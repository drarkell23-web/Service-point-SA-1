<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Contractor Login</title><link rel="stylesheet" href="assets/style.css"></head><body>
<div class="auth-card">
  <h2>Contractor Login</h2>
  <input id="phone" placeholder="Phone (e.g. 0671234567)">
  <input id="password" placeholder="Password" type="password">
  <button id="loginBtn">Login</button>
  <p id="msg"></p>
</div>
<script type="module">
const $ = id=>document.getElementById(id);
async function login(){
  const phone=$('phone').value.trim(), password=$('password').value.trim();
  if(!phone||!password){$('msg').innerText='Enter phone and password';return;}
  const res = await fetch('/api/contractor/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({phone,password})});
  const j = await res.json();
  if(j.ok){ localStorage.setItem('contractor', JSON.stringify(j.contractor)); window.location.href='index.html'; }
  else $('msg').innerText = j.error || 'Login failed';
}
$('loginBtn').addEventListener('click',login);
</script>
</body></html>
