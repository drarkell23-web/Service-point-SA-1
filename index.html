<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ServicePoint SA</title>

<style>
    :root {
        --bg-page: #031b10;
        --bg-shell: #052618;
        --bg-hero: #054527;
        --bg-sidebar: #06331f;
        --bg-card: #073320;
        --bg-card-soft: #0a3d26;
        --accent: #28d17c;
        --accent-soft: rgba(40, 209, 124, 0.1);
        --text-main: #f5fff8;
        --text-muted: #a7c9b3;
        --border-soft: rgba(255, 255, 255, 0.06);
        --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.65);
        --radius-lg: 18px;
        --radius-md: 12px;
        --radius-pill: 999px;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
            sans-serif;
        background: radial-gradient(circle at top, #06311f 0, #020f09 55%, #000 100%);
        color: var(--text-main);
    }

    /* ========= TOP BAR ========= */
    .topbar {
        max-width: 1200px;
        margin: 18px auto 10px auto;
        padding: 14px 18px;
        border-radius: var(--radius-lg);
        background: rgba(3, 25, 16, 0.9);
        border: 1px solid var(--border-soft);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 18px;
        box-shadow: 0 10px 35px rgba(0, 0, 0, 0.7);
    }

    .brand-wrap {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .brand-logo {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at 20% 0, #28d17c, #0a7d46);
        color: #02140b;
        font-weight: 800;
        font-size: 18px;
    }

    .brand-text-main {
        font-weight: 700;
        letter-spacing: 0.02em;
        font-size: 18px;
    }

    .brand-text-sub {
        font-size: 12px;
        color: var(--text-muted);
    }

    .top-pills {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: flex-end;
    }

    .pill {
        padding: 8px 14px;
        border-radius: var(--radius-pill);
        font-size: 12px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: var(--text-muted);
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: rgba(7, 46, 30, 0.85);
        backdrop-filter: blur(14px);
    }

    .pill-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--accent);
    }

    .pill-accent {
        background: var(--accent-soft);
        color: #d9ffe8;
        border-color: transparent;
    }

    /* ========= LAYOUT ========= */
    .layout {
        max-width: 1200px;
        margin: 0 auto 40px auto;
        display: grid;
        grid-template-columns: 260px minmax(0, 1fr);
        gap: 18px;
    }

    /* ========= SIDEBAR ========= */
    .sidebar {
        background: var(--bg-sidebar);
        border-radius: var(--radius-lg);
        padding: 18px 14px;
        border: 1px solid var(--border-soft);
        box-shadow: var(--shadow-soft);
        display: flex;
        flex-direction: column;
        min-height: 480px;
    }

    .sidebar-header {
        font-size: 13px;
        color: var(--text-muted);
        margin-bottom: 14px;
        line-height: 1.5;
    }

    .scroll-area {
        flex: 1;
        overflow-y: auto;
        padding-right: 4px;
    }

    .scroll-area::-webkit-scrollbar {
        width: 5px;
    }
    .scroll-area::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 999px;
    }

    .category {
        margin-bottom: 6px;
        border-radius: 10px;
        overflow: hidden;
    }

    .category-header {
        cursor: pointer;
        padding: 9px 9px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: rgba(255, 255, 255, 0.02);
        border-radius: 10px;
        transition: background 0.18s ease, transform 0.12s ease;
    }

    .category-header:hover {
        background: rgba(255, 255, 255, 0.06);
        transform: translateY(-1px);
    }

    .category-title {
        font-size: 13px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .category-count {
        font-size: 11px;
        color: var(--text-muted);
    }

    .category-arrow {
        font-size: 11px;
        color: var(--text-muted);
    }

    .service-list {
        display: none;
        padding: 6px 7px 8px 10px;
        border-radius: 10px;
        margin-top: 4px;
        background: rgba(255, 255, 255, 0.02);
    }

    .service-item {
        font-size: 11px;
        color: #d3ffe7;
        padding: 5px 8px;
        border-radius: 999px;
        cursor: pointer;
        margin-bottom: 4px;
        border: 1px solid transparent;
        background: transparent;
        transition: background 0.18s ease, transform 0.12s ease,
            border-color 0.18s ease;
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .service-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: rgba(40, 209, 124, 0.7);
    }

    .service-item:hover {
        background: rgba(6, 110, 63, 0.8);
        border-color: rgba(40, 209, 124, 0.4);
        transform: translateY(-1px);
    }

    .sidebar-footer {
        margin-top: 10px;
        font-size: 11px;
        color: var(--text-muted);
    }

    /* ========= MAIN CONTENT ========= */
    .content {
        display: flex;
        flex-direction: column;
        gap: 14px;
    }

    .hero-card {
        background: var(--bg-hero);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-soft);
        padding: 24px 24px 20px 24px;
        display: grid;
        grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.1fr);
        gap: 20px;
        box-shadow: var(--shadow-soft);
    }

    .hero-eyebrow {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-muted);
        margin-bottom: 6px;
    }

    .hero-title {
        font-size: 26px;
        line-height: 1.3;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .hero-sub {
        font-size: 13px;
        color: var(--text-muted);
        max-width: 480px;
        margin-bottom: 18px;
    }

    .region-chips {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 18px;
    }

    .chip {
        padding: 8px 12px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(255, 255, 255, 0.16);
        font-size: 11px;
        color: var(--text-main);
        background: rgba(7, 58, 36, 0.9);
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: default;
    }

    .chip-dot {
        width: 7px;
        height: 7px;
        border-radius: 50%;
        background: var(--accent);
    }

    .hero-meta {
        font-size: 11px;
        color: var(--text-muted);
        display: flex;
        gap: 18px;
        flex-wrap: wrap;
    }

    .hero-right {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 16px;
    }

    .hero-right-text {
        font-size: 13px;
        color: var(--text-muted);
        line-height: 1.5;
    }

    .hero-right-cta {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
    }

    .btn-primary {
        padding: 10px 20px;
        border-radius: var(--radius-pill);
        border: none;
        outline: none;
        background: linear-gradient(135deg, #28d17c, #19a35c);
        color: #02140b;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 14px 30px rgba(24, 199, 107, 0.6);
        transition: transform 0.12s ease, box-shadow 0.12s ease,
            filter 0.12s ease;
    }

    .btn-primary:hover {
        transform: translateY(-1px);
        filter: brightness(1.06);
        box-shadow: 0 18px 40px rgba(24, 199, 107, 0.8);
    }

    .btn-ghost {
        padding: 9px 16px;
        border-radius: var(--radius-pill);
        border: 1px dashed rgba(255, 255, 255, 0.3);
        background: transparent;
        color: var(--text-main);
        font-size: 12px;
        cursor: pointer;
        transition: background 0.18s ease, border-color 0.18s ease,
            color 0.18s ease;
    }

    .btn-ghost:hover {
        background: rgba(255, 255, 255, 0.06);
        border-color: rgba(40, 209, 124, 0.7);
    }

    .assistant-tag {
        font-size: 11px;
        color: var(--text-muted);
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .assistant-avatar {
        width: 20px;
        height: 20px;
        border-radius: 999px;
        background: radial-gradient(circle at 0 0, #fed7aa, #fb7185);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    /* ========= STATS ========= */
    .stats-row {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 10px;
    }

    .stat-card {
        background: var(--bg-card);
        border-radius: var(--radius-md);
        padding: 14px 14px 12px 14px;
        border: 1px solid var(--border-soft);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.7);
    }

    .stat-label {
        font-size: 11px;
        color: var(--text-muted);
        margin-bottom: 6px;
    }

    .stat-value {
        font-size: 22px;
        font-weight: 700;
        margin-bottom: 4px;
    }

    .stat-foot {
        font-size: 11px;
        color: var(--text-muted);
    }

    /* ========= WHY CHOOSE ========= */
    .why-card {
        margin-top: 10px;
        background: var(--bg-card-soft);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-soft);
        padding: 18px 18px 16px 18px;
        display: grid;
        grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);
        gap: 18px;
    }

    .why-title {
        font-size: 15px;
        margin-bottom: 8px;
    }

    .why-list {
        font-size: 12px;
        color: var(--text-muted);
        list-style: none;
    }

    .why-list li {
        margin-bottom: 6px;
        display: flex;
        gap: 6px;
    }

    .why-bullet {
        color: var(--accent);
        font-size: 14px;
        margin-top: -2px;
    }

    .why-foot {
        font-size: 11px;
        color: var(--text-muted);
        margin-top: 10px;
    }

    /* ========= TOP CONTRACTORS ========= */
    .contractors-section {
        margin-top: 14px;
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        padding: 16px 18px 16px 18px;
        border: 1px solid var(--border-soft);
        box-shadow: var(--shadow-soft);
    }

    .section-heading-row {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
        margin-bottom: 10px;
    }

    .section-title {
        font-size: 14px;
        font-weight: 600;
    }

    .section-sub {
        font-size: 11px;
        color: var(--text-muted);
    }

    .contractor-grid {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 10px;
    }

    .contractor-card {
        position: relative;
        background: linear-gradient(150deg, #063722, #031c12);
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.04);
        padding: 12px 11px 10px 11px;
        font-size: 11px;
        display: flex;
        flex-direction: column;
        gap: 6px;
        overflow: hidden;
        cursor: default;
        transition: transform 0.16s ease, box-shadow 0.16s ease,
            border-color 0.16s ease;
    }

    .contractor-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 18px 35px rgba(0, 0, 0, 0.8);
        border-color: rgba(40, 209, 124, 0.4);
    }

    .contractor-ribbon {
        position: absolute;
        top: 8px;
        right: 8px;
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(40, 209, 124, 0.12);
        color: #b8ffdd;
        font-size: 10px;
        display: inline-flex;
        align-items: center;
        gap: 4px;
    }

    .contractor-ribbon-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--accent);
    }

    .contractor-name {
        font-size: 12px;
        font-weight: 600;
    }

    .contractor-trade {
        color: var(--text-muted);
    }

    .contractor-meta {
        display: flex;
        justify-content: space-between;
        font-size: 10px;
        color: var(--text-muted);
    }

    .contractor-score {
        font-size: 11px;
        color: #fffae6;
    }

    .contractor-cta {
        margin-top: 3px;
        font-size: 10px;
        color: var(--accent);
    }

    /* ========= POPUP ========= */
    .popup-bg {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.75);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 50;
    }

    .popup-box {
        width: 360px;
        max-width: 92vw;
        background: #041e13;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        padding: 18px 18px 16px 18px;
        box-shadow: 0 24px 60px rgba(0, 0, 0, 0.9);
    }

    .popup-title {
        font-size: 15px;
        margin-bottom: 4px;
    }

    .popup-sub {
        font-size: 11px;
        color: var(--text-muted);
        margin-bottom: 10px;
    }

    .popup-selected {
        font-size: 12px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(40, 209, 124, 0.1);
        color: #d6ffe7;
        margin-bottom: 10px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .popup-selected span.tag {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--accent);
    }

    .popup-input {
        width: 100%;
        padding: 10px 10px;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        background: rgba(5, 31, 19, 0.9);
        color: var(--text-main);
        font-size: 12px;
        margin-bottom: 8px;
    }

    .popup-input::placeholder {
        color: rgba(199, 235, 215, 0.6);
    }

    .popup-row {
        display: flex;
        justify-content: flex-end;
        gap: 8px;
        margin-top: 6px;
    }

    .btn-secondary {
        padding: 8px 14px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(255, 255, 255, 0.25);
        background: transparent;
        color: var(--text-main);
        font-size: 12px;
        cursor: pointer;
        transition: background 0.16s ease, border-color 0.16s ease;
    }

    .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(255, 255, 255, 0.4);
    }

    .popup-footnote {
        margin-top: 8px;
        font-size: 10px;
        color: var(--text-muted);
    }

    /* ========= RESPONSIVE ========= */
    @media (max-width: 980px) {
        .layout {
            grid-template-columns: 1fr;
        }
        .sidebar {
            order: 2;
        }
    }

    @media (max-width: 780px) {
        .hero-card {
            grid-template-columns: 1fr;
        }
        .contractor-grid {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .stats-row {
            grid-template-columns: 1fr;
        }
        .topbar {
            flex-direction: column;
            align-items: flex-start;
        }
        .top-pills {
            justify-content: flex-start;
        }
    }

    @media (min-width: 781px) and (max-width: 1040px) {
        .contractor-grid {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }
    }
</style>
</head>
<body>

<!-- ========== TOP BAR ========== -->
<header class="topbar">
    <div class="brand-wrap">
        <div class="brand-logo">S</div>
        <div>
            <div class="brand-text-main">ServicePoint SA</div>
            <div class="brand-text-sub">Home &amp; Business Service Network</div>
        </div>
    </div>
    <div class="top-pills">
        <div class="pill">
            <span class="pill-dot"></span>
            Smart contractor matching
        </div>
        <div class="pill pill-accent">
            <span class="pill-dot"></span>
            Live human assistant chat
        </div>
        <div class="pill">
            <span class="pill-dot"></span>
            SA coverage Â· KZN Â· JHB Â· CPT
        </div>
    </div>
</header>

<main class="layout">
    <!-- ========== SIDEBAR ========== -->
    <aside class="sidebar">
        <div class="sidebar-header">
            Tap a category to see services.<br />
            Tap a service to request it via our human assistant.
        </div>

        <div class="scroll-area" id="categoryList">
            <!-- Populated by JS -->
        </div>

        <div class="sidebar-footer">
            Serving Durban, Johannesburg &amp; Cape Town with rollout to the rest
            of South Africa.
        </div>
    </aside>

    <!-- ========== MAIN CONTENT ========== -->
    <section class="content">
        <!-- HERO -->
        <section class="hero-card">
            <div>
                <div class="hero-eyebrow">Built for South African homes &amp; businesses</div>
                <h1 class="hero-title">
                    Connect with trusted contractors in KZN, JHB &amp; CPT.
                </h1>
                <p class="hero-sub">
                    One request. Verified contractors compete to give you the best
                    service. You stay in control &mdash; we handle the admin, follow-ups
                    and reminders.
                </p>

                <div class="region-chips">
                    <div class="chip">
                        <span class="chip-dot"></span>
                        KZN &ndash; Durban &amp; surrounds
                    </div>
                    <div class="chip">
                        <span class="chip-dot"></span>
                        JHB &ndash; Johannesburg &amp; Gauteng
                    </div>
                    <div class="chip">
                        <span class="chip-dot"></span>
                        CPT &ndash; Cape Town &amp; Winelands
                    </div>
                </div>

                <div class="hero-meta">
                    <span>Average response time: &lt; 15 minutes during office hours.</span>
                    <span>We only send your details once you confirm the quote.</span>
                </div>
            </div>

            <div class="hero-right">
                <div class="hero-right-text">
                    Answer a few quick questions, pick a service and our
                    <strong>human assistant</strong> chats with you to confirm the details
                    before sending it to the best-scored contractors.
                </div>

                <div class="hero-right-cta">
                    <button class="btn-primary" onclick="openPopupFromCTA()">
                        Get matched now
                    </button>
                    <button class="btn-ghost" onclick="scrollToWhy()">
                        How it works
                    </button>
                </div>

                <div class="assistant-tag">
                    <div class="assistant-avatar"></div>
                    <span>Real people on standby if anything goes wrong on-site.</span>
                </div>
            </div>
        </section>

        <!-- STATS -->
        <section class="stats-row">
            <article class="stat-card">
                <div class="stat-label">Leads successfully fed</div>
                <div class="stat-value">168</div>
                <div class="stat-foot">
                    Real jobs routed to verified contractors across SA.
                </div>
            </article>
            <article class="stat-card">
                <div class="stat-label">Contractors live on network</div>
                <div class="stat-value">210</div>
                <div class="stat-foot">
                    Trade-tested teams &mdash; from solo specialists to enterprise
                    crews.
                </div>
            </article>
            <article class="stat-card">
                <div class="stat-label">Average rating</div>
                <div class="stat-value">4.8â˜…</div>
                <div class="stat-foot">Based on job reviews &amp; comeback rate.</div>
            </article>
        </section>

        <!-- WHY CHOOSE -->
        <section id="why-section" class="why-card">
            <div>
                <h2 class="why-title">Why choose ServicePoint SA?</h2>
                <ul class="why-list">
                    <li>
                        <span class="why-bullet">âœ“</span>
                        <span>
                            We pre-vet contractors for documents, workmanship history and
                            real-world references.
                        </span>
                    </li>
                    <li>
                        <span class="why-bullet">âœ“</span>
                        <span>
                            Smart lead routing hides your number until you accept a
                            contractor.
                        </span>
                    </li>
                    <li>
                        <span class="why-bullet">âœ“</span>
                        <span>
                            We track jobs, quotes and follow-ups so nothing slips through
                            the cracks.
                        </span>
                    </li>
                    <li>
                        <span class="why-bullet">âœ“</span>
                        <span>
                            Our human assistant keeps you updated in plain language &mdash;
                            not bots or call centres.
                        </span>
                    </li>
                </ul>
            </div>

            <div>
                <h2 class="why-title">How ServicePoint SA works</h2>
                <ul class="why-list">
                    <li>
                        <span class="why-bullet">1</span>
                        <span>Choose a category and tap the service you need.</span>
                    </li>
                    <li>
                        <span class="why-bullet">2</span>
                        <span>
                            Our assistant confirms the details, budget and timing with
                            you.
                        </span>
                    </li>
                    <li>
                        <span class="why-bullet">3</span>
                        <span>
                            We send the job to the right pros and you pick who to book.
                        </span>
                    </li>
                </ul>
                <p class="why-foot">
                    You stay in control at every step. No spam, no mass WhatsApp groups.
                </p>
            </div>
        </section>

        <!-- TOP CONTRACTORS OF THE MONTH -->
        <section class="contractors-section">
            <div class="section-heading-row">
                <div>
                    <h2 class="section-title">Top contractors of the month</h2>
                    <p class="section-sub">
                        Hand-picked from recent jobs. You can update these names any
                        time from your admin.
                    </p>
                </div>
                <div class="section-sub">
                    Spotlight based on ratings, comeback rate and on-time completion.
                </div>
            </div>

            <div class="contractor-grid" id="contractorGrid">
                <!-- Filled by JS so you can easily adjust later -->
            </div>
        </section>
    </section>
</main>

<!-- ========== POPUP ========= -->
<div class="popup-bg" id="popup">
    <div class="popup-box">
        <h3 class="popup-title">Request this service</h3>
        <p class="popup-sub">
            Our human assistant will confirm your details and match you to the
            right contractor.
        </p>

        <div class="popup-selected">
            <span class="tag"></span>
            <span id="selectedService">General service</span>
        </div>

        <input
            id="clientName"
            class="popup-input"
            type="text"
            placeholder="Your full name"
        />
        <input
            id="clientPhone"
            class="popup-input"
            type="text"
            placeholder="Best contact number"
        />

        <div class="popup-row">
            <button class="btn-secondary" onclick="closePopup()">Cancel</button>
            <button class="btn-primary" onclick="sendLead()">Send request</button>
        </div>

        <div class="popup-footnote">
            By sending a request you agree for us to contact you about this job.
        </div>
    </div>
</div>

<script>
/* =========================================
   CATEGORY + SERVICE DATA (EASY TO EXTEND)
   ========================================= */
const categories = {
    "Solar": [
        "Solar panel installation",
        "Inverter & battery backup",
        "Solar geyser installation",
        "System fault finding"
    ],
    "Electrical": [
        "New house wiring",
        "DB board upgrades",
        "Certificate of Compliance (CoC)",
        "Plug & light point repairs",
        "Generator changeover switches"
    ],
    "Plumbing": [
        "Geyser replacement",
        "Leak detection & repairs",
        "Blocked drain clearing",
        "Bathroom renovation plumbing"
    ],
    "HVAC": [
        "Aircon installation",
        "Aircon service & regas",
        "Ducted system maintenance"
    ],
    "Security": [
        "Alarm system installation",
        "CCTV camera setup",
        "Electric fencing",
        "Access control systems"
    ],
    "Roofing": [
        "Tile roof repairs",
        "Metal roof installation",
        "Waterproofing & sealing",
        "Gutter installation & cleaning"
    ],
    "Painting": [
        "Interior repaint",
        "Exterior repaint",
        "Roof painting",
        "Damp sealing & crack repairs"
    ],
    "Carpentry": [
        "Built-in kitchen cupboards",
        "Built-in bedroom cupboards",
        "Custom TV cabinets",
        "Shopfitting & counters"
    ],
    "Flooring": [
        "Tiling & screeding",
        "Laminate flooring",
        "Vinyl plank flooring",
        "Carpet fitting"
    ],
    "Landscaping": [
        "Garden design & install",
        "Artificial grass",
        "Irrigation systems",
        "Tree felling & pruning"
    ],
    "Cleaning": [
        "Post-construction cleaning",
        "Deep spring clean",
        "Office cleaning contracts",
        "Carpet & upholstery cleaning"
    ],
    "Appliance Repair": [
        "Fridge & freezer repair",
        "Washing machine repair",
        "Tumble dryer repair",
        "Dishwasher repair"
    ],
    "Windows & Doors": [
        "Aluminium windows & doors",
        "Glass replacement",
        "Garage doors & motors",
        "Burglar bars & gates"
    ],
    "Pools": [
        "New pool construction",
        "Fibreglass relining",
        "Pool pump & filter repairs",
        "Weekly pool servicing"
    ],
    "General Construction": [
        "Boundary & retaining walls",
        "Home extensions & additions",
        "Granny flat construction",
        "Concrete slabs & foundations"
    ]
    // You can keep adding categories & services here.
};

const categoryListEl = document.getElementById("categoryList");

Object.keys(categories).forEach((categoryName) => {
    const category = document.createElement("div");
    category.className = "category";

    const header = document.createElement("div");
    header.className = "category-header";

    const titleWrap = document.createElement("div");
    titleWrap.className = "category-title";

    const bullet = document.createElement("span");
    bullet.textContent = "â€¢";

    const title = document.createElement("span");
    title.textContent = categoryName;

    titleWrap.appendChild(bullet);
    titleWrap.appendChild(title);

    const rightWrap = document.createElement("div");
    rightWrap.style.display = "flex";
    rightWrap.style.alignItems = "center";
    rightWrap.style.gap = "6px";

    const count = document.createElement("span");
    count.className = "category-count";
    count.textContent = categories[categoryName].length;

    const arrow = document.createElement("span");
    arrow.className = "category-arrow";
    arrow.textContent = "â–¾";

    rightWrap.appendChild(count);
    rightWrap.appendChild(arrow);

    header.appendChild(titleWrap);
    header.appendChild(rightWrap);

    const list = document.createElement("div");
    list.className = "service-list";

    categories[categoryName].forEach((serviceName) => {
        const item = document.createElement("button");
        item.type = "button";
        item.className = "service-item";
        item.onclick = () => openPopup(serviceName);

        const dot = document.createElement("span");
        dot.className = "service-dot";

        const label = document.createElement("span");
        label.textContent = serviceName;

        item.appendChild(dot);
        item.appendChild(label);
        list.appendChild(item);
    });

    header.onclick = () => {
        const isOpen = list.style.display === "block";
        list.style.display = isOpen ? "none" : "block";
        arrow.textContent = isOpen ? "â–¾" : "â–´";
    };

    category.appendChild(header);
    category.appendChild(list);
    categoryListEl.appendChild(category);
});

/* =========================================
   TOP 5 CONTRACTORS (EASY TO EDIT LATER)
   ========================================= */
const contractors = [
    {
        name: "Thandi Ndlovu",
        trade: "Solar & backup power Â· Durban North",
        rating: "4.9â˜…",
        jobs: "27 jobs this month",
        score: "ServiceDNAâ„¢ score: 96"
    },
    {
        name: "Mandla Projects",
        trade: "Home renovations Â· Randburg, JHB",
        rating: "4.8â˜…",
        jobs: "19 jobs this month",
        score: "ServiceDNAâ„¢ score: 94"
    },
    {
        name: "Cape Spark Electrical",
        trade: "Electrical & CoCs Â· Southern Suburbs, CPT",
        rating: "4.9â˜…",
        jobs: "22 jobs this month",
        score: "ServiceDNAâ„¢ score: 95"
    },
    {
        name: "Durban Plumbing Co.",
        trade: "Emergency plumbing Â· Durban CBD & surrounds",
        rating: "4.7â˜…",
        jobs: "24 jobs this month",
        score: "ServiceDNAâ„¢ score: 92"
    },
    {
        name: "Winelands Greenscapes",
        trade: "Landscaping & irrigation Â· Paarl & Stellenbosch",
        rating: "4.8â˜…",
        jobs: "17 jobs this month",
        score: "ServiceDNAâ„¢ score: 93"
    }
];

const contractorGrid = document.getElementById("contractorGrid");

contractors.forEach((c) => {
    const card = document.createElement("article");
    card.className = "contractor-card";

    const ribbon = document.createElement("div");
    ribbon.className = "contractor-ribbon";
    ribbon.innerHTML =
        '<span class="contractor-ribbon-dot"></span><span>Verified</span>';

    const name = document.createElement("div");
    name.className = "contractor-name";
    name.textContent = c.name;

    const trade = document.createElement("div");
    trade.className = "contractor-trade";
    trade.textContent = c.trade;

    const metaRow = document.createElement("div");
    metaRow.className = "contractor-meta";

    const rating = document.createElement("span");
    rating.textContent = c.rating;

    const jobs = document.createElement("span");
    jobs.textContent = c.jobs;

    metaRow.appendChild(rating);
    metaRow.appendChild(jobs);

    const score = document.createElement("div");
    score.className = "contractor-score";
    score.textContent = c.score;

    const cta = document.createElement("div");
    cta.className = "contractor-cta";
    cta.textContent = "You can feature any contractor here from your admin.";

    card.appendChild(ribbon);
    card.appendChild(name);
    card.appendChild(trade);
    card.appendChild(metaRow);
    card.appendChild(score);
    card.appendChild(cta);

    contractorGrid.appendChild(card);
});

/* =========================================
   POPUP + HUMAN ASSISTANT + TELEGRAM LEAD
   ========================================= */
const popupEl = document.getElementById("popup");
const selectedServiceEl = document.getElementById("selectedService");

function openPopup(serviceName) {
    selectedServiceEl.textContent = serviceName;
    popupEl.style.display = "flex";
}

function openPopupFromCTA() {
    // Default label if user clicks "Get matched now" first
    openPopup("General service request");
}

function closePopup() {
    popupEl.style.display = "none";
}

function scrollToWhy() {
    const el = document.getElementById("why-section");
    if (!el) return;
    el.scrollIntoView({ behavior: "smooth", block: "start" });
}

function sendLead() {
    const name = document.getElementById("clientName").value.trim();
    const phone = document.getElementById("clientPhone").value.trim();
    const service = selectedServiceEl.textContent.trim();

    if (!name || !phone) {
        alert("Please fill in your name and contact number.");
        return;
    }

    // === TELEGRAM BOT SETTINGS (you can move these to env vars on a backend later) ===
    const botToken = "8526401033:AAFrG8IH8xqQL_RTD7s7JLyxZpc8e8GOyyg";
    const chatId = "8187670531";

    const msg = `ðŸ”¥ *New Service Lead*
ðŸ“Œ Service: ${service}
ðŸ‘¤ Name: ${name}
ðŸ“± Phone: ${phone}`;

    fetch(
        `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}` +
            `&text=${encodeURIComponent(msg)}&parse_mode=Markdown`
    )
        .then(() => {
            alert(
                "Thanks! Our human assistant will contact you shortly to confirm the details."
            );
            closePopup();
            document.getElementById("clientName").value = "";
            document.getElementById("clientPhone").value = "";
        })
        .catch(() => {
            alert(
                "We couldn't reach our assistant right now. Please try again in a moment."
            );
        });
}
</script>
</body>
</html>
