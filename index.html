<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ServicePoint SA</title>

<style>
:root {
  /* South African flag inspired palette */
  --sa-green: #007a4d;
  --sa-yellow: #ffb81c;
  --sa-red: #d62828;
  --sa-blue: #0052b4;
  --sa-black: #111111;
  --sa-white: #ffffff;

  --bg-page: #ecf0f3;
  --card-bg: #ffffff;
  --text-main: #0f172a;
  --text-muted: #64748b;
  --border-soft: #dde4ee;
  --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.12);
}

/* GLOBAL */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: var(--bg-page);
  color: var(--text-main);
}

/* HEADER */
.site-header {
  padding: 18px 20px;
  text-align: center;
  background: linear-gradient(90deg, var(--sa-green), var(--sa-blue));
  color: var(--sa-white);
  box-shadow: 0 4px 18px rgba(0,0,0,0.2);
  position: sticky;
  top: 0;
  z-index: 20;
}

.site-header h1 {
  margin: 0;
  font-size: 26px;
  letter-spacing: 0.04em;
}

.site-header span {
  display: block;
  font-size: 13px;
  margin-top: 4px;
  opacity: 0.9;
}

/* APP SHELL */
.app-shell {
  max-width: 1240px;
  margin: 22px auto 40px;
  padding: 0 20px;
}

/* HERO GRID */
.hero-grid {
  display: grid;
  grid-template-columns: 290px minmax(0, 1fr);
  gap: 22px;
  align-items: flex-start;
}

/* SIDEBAR */
.sidebar {
  background: var(--card-bg);
  border-radius: 18px;
  padding: 16px 14px 18px;
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--border-soft);
  display: flex;
  flex-direction: column;
  height: 100%;
}

.sidebar-title {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 6px;
}

.sidebar-subtitle {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 12px;
}

.category-list {
  flex: 1;
  overflow-y: auto;
  padding-right: 4px;
  max-height: 560px;
}

/* Custom scrollbar */
.category-list::-webkit-scrollbar {
  width: 6px;
}
.category-list::-webkit-scrollbar-track {
  background: transparent;
}
.category-list::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 999px;
}

.category {
  margin-bottom: 4px;
  border-radius: 10px;
  transition: background 0.18s ease, transform 0.12s ease;
}

.category-header {
  padding: 8px 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.category-header-left {
  display: flex;
  flex-direction: column;
}

.category-name {
  font-size: 13px;
  font-weight: 600;
}

.category-count {
  font-size: 11px;
  color: var(--text-muted);
}

.category-arrow {
  font-size: 12px;
  color: var(--text-muted);
  transition: transform 0.15s ease;
}

.category.open .category-arrow {
  transform: rotate(90deg);
}

.category:hover {
  background: #f1f5f9;
  transform: translateY(-1px);
}

.service-list {
  display: none;
  padding: 0 0 6px 6px;
}

.service-list.open {
  display: block;
}

.service-item {
  font-size: 12px;
  padding: 4px 10px 4px 16px;
  cursor: pointer;
  color: var(--sa-blue);
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 999px;
  margin: 1px 2px;
  background: transparent;
  transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
}

.service-item span {
  font-size: 11px;
  color: var(--text-muted);
}

.service-item:hover {
  background: rgba(0,122,77,0.08);
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.08);
  transform: translateY(-1px);
}

/* HERO MAIN */
.hero-card {
  background: radial-gradient(circle at top left, #00a859 0, #006c3c 40%, #004225 70%, #001814 100%);
  border-radius: 22px;
  color: var(--sa-white);
  padding: 20px 24px 22px;
  box-shadow: var(--shadow-soft);
  position: relative;
  overflow: hidden;
}

.hero-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 120% -10%, rgba(255,184,28,0.35), transparent 60%),
              radial-gradient(circle at -10% 120%, rgba(0,82,180,0.35), transparent 55%);
  opacity: 0.9;
  pointer-events: none;
}

.hero-inner {
  position: relative;
  z-index: 1;
}

/* Chips */
.hero-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 14px;
}

.chip {
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(15,23,42,0.62);
  border: 1px solid rgba(148,163,184,0.6);
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.chip.dot-green::before,
.chip.dot-yellow::before,
.chip.dot-blue::before {
  content: "";
  width: 7px;
  height: 7px;
  border-radius: 999px;
}

.chip.dot-green::before { background: var(--sa-green); }
.chip.dot-yellow::before { background: var(--sa-yellow); }
.chip.dot-blue::before { background: var(--sa-blue); }

.hero-title {
  font-size: 26px;
  line-height: 1.25;
  font-weight: 700;
  margin: 8px 0 6px;
}

.hero-subtitle {
  font-size: 13px;
  max-width: 560px;
  color: rgba(255,255,255,0.86);
  margin-bottom: 18px;
}

/* Region pills */
.hero-regions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.region-pill {
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid rgba(241,245,249,0.8);
  background: rgba(15,23,42,0.3);
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.region-pill span.dot {
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: var(--sa-yellow);
}

/* Hero bottom row */
.hero-bottom {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 18px;
  margin-top: 12px;
}

.hero-why {
  font-size: 12px;
}

.hero-why h3 {
  margin: 0 0 8px;
  font-size: 13px;
}

.hero-why ul {
  padding-left: 18px;
  margin: 0;
}

.hero-why li {
  margin-bottom: 4px;
  color: rgba(226,232,240,0.96);
}

/* CTA card */
.hero-cta-card {
  border-radius: 18px;
  padding: 10px 14px 12px;
  background: rgba(15,23,42,0.55);
  border: 1px solid rgba(148,163,184,0.7);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 6px;
}

.hero-cta-card h3 {
  margin: 0;
  font-size: 13px;
}

.hero-cta-card p {
  margin: 0;
  font-size: 11px;
  color: rgba(226,232,240,0.9);
}

.hero-cta-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 6px;
}

.hero-cta-btn {
  padding: 7px 14px;
  border: none;
  border-radius: 999px;
  background: var(--sa-yellow);
  color: #111827;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(15,23,42,0.4);
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.hero-cta-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(15,23,42,0.5);
}

.hero-eta {
  font-size: 11px;
  color: rgba(226,232,240,0.9);
}

/* STATS ROW */
.stats-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
  margin-top: 18px;
}

.stat-card {
  background: var(--card-bg);
  border-radius: 16px;
  padding: 12px 14px;
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--border-soft);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.stat-label {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 4px;
}

.stat-value {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 4px;
}

.stat-footnote {
  font-size: 11px;
  color: var(--text-muted);
}

/* POPUP */
.popup-bg {
  position: fixed;
  inset: 0;
  background: rgba(15,23,42,0.55);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 50;
}

.popup-box {
  background: var(--card-bg);
  border-radius: 18px;
  padding: 20px 22px 18px;
  width: 360px;
  max-width: 94vw;
  box-shadow: 0 22px 55px rgba(15,23,42,0.3);
  border: 1px solid var(--border-soft);
}

.popup-title {
  font-size: 17px;
  margin: 0 0 4px;
}

.popup-subtitle {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 10px;
}

.popup-service {
  font-size: 12px;
  margin-bottom: 10px;
  padding: 6px 10px;
  border-radius: 10px;
  background: #f1f5f9;
}

.popup-box label {
  display: block;
  font-size: 12px;
  margin-top: 8px;
  margin-bottom: 4px;
}

.popup-box input,
.popup-box textarea,
.popup-box select {
  width: 100%;
  padding: 9px 10px;
  border-radius: 10px;
  border: 1px solid #cbd5e1;
  font-size: 13px;
}

.popup-box textarea {
  min-height: 70px;
  resize: vertical;
}

.popup-actions {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  margin-top: 14px;
}

.popup-btn-primary,
.popup-btn-secondary {
  flex: 1;
  padding: 8px 10px;
  border-radius: 999px;
  border: none;
  font-size: 13px;
  cursor: pointer;
}

.popup-btn-primary {
  background: var(--sa-green);
  color: white;
}

.popup-btn-primary:hover {
  background: #059669;
}

.popup-btn-secondary {
  background: #e5e7eb;
  color: #111827;
}

.popup-note {
  margin-top: 6px;
  font-size: 11px;
  color: var(--text-muted);
}

/* FOOTER */
.site-footer {
  max-width: 1240px;
  margin: 0 auto 26px;
  padding: 0 20px;
  font-size: 12px;
  color: var(--text-muted);
}

.site-footer-inner {
  background: #f1f5f9;
  border-radius: 14px;
  padding: 10px 14px;
  border: 1px solid var(--border-soft);
}

.site-footer a {
  color: var(--sa-blue);
  text-decoration: none;
}

.site-footer a:hover {
  text-decoration: underline;
}

/* RESPONSIVE */
@media (max-width: 1024px) {
  .hero-grid {
    grid-template-columns: 1fr;
  }

  .stats-row {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .hero-bottom {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>

<header class="site-header">
  <h1>ServicePoint SA</h1>
  <span>South Africaâ€™s all-services contractor network â€“ KZN Â· Gauteng Â· Cape Town</span>
</header>

<div class="app-shell">
  <div class="hero-grid">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-title">Tap a category to see services</div>
      <div class="sidebar-subtitle">Choose a service â€“ our human assistant will take it from there.</div>
      <div id="categoryList" class="category-list"></div>
    </aside>

    <!-- HERO MAIN -->
    <section class="hero-card">
      <div class="hero-inner">
        <div class="hero-chips">
          <div class="chip dot-green">Smart contractor matching</div>
          <div class="chip dot-yellow">Human assistant chat</div>
          <div class="chip dot-blue">Built for South African homes & businesses</div>
        </div>

        <h2 class="hero-title">
          Connect with trusted contractors in KZN, JHB & CPT.
        </h2>
        <p class="hero-subtitle">
          One request. Verified contractors compete to give you the best service. You stay in control â€“
          we handle the heavy admin, follow-ups and quotes.
        </p>

        <div class="hero-regions">
          <div class="region-pill"><span class="dot"></span> KZN â€“ Durban & surrounds</div>
          <div class="region-pill"><span class="dot"></span> JHB â€“ Gauteng metros</div>
          <div class="region-pill"><span class="dot"></span> CPT â€“ Cape Town & Winelands</div>
        </div>

        <div class="hero-bottom">
          <div class="hero-why">
            <h3>Why choose ServicePoint SA?</h3>
            <ul>
              <li>We pre-vet contractors for documents, reviews and workmanship history.</li>
              <li>Smart lead routing hides your number until you accept a contractor.</li>
              <li>We track jobs, quotes and follow-ups so nothing slips through the cracks.</li>
              <li>Support team on standby if something goes wrong on-site.</li>
            </ul>
          </div>

          <div class="hero-cta-card">
            <h3>Tell our assistant what you need</h3>
            <p>Pick a category on the left, choose a service and share your details. Our human assistant will message you to confirm and route it to the right pros.</p>
            <div class="hero-cta-row">
              <button class="hero-cta-btn" onclick="openPopup('General request â€“ I\'m not sure')">
                Get matched now
              </button>
              <div class="hero-eta">
                Avg. response: <strong>&lt; 15 minutes</strong> during office hours.
              </div>
            </div>
          </div>
        </div>

        <!-- Stats / trust row -->
        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-label">Leads successfully matched</div>
            <div class="stat-value">168</div>
            <div class="stat-footnote">Real jobs connected to vetted contractors across SA.</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Contractors live on network</div>
            <div class="stat-value">210</div>
            <div class="stat-footnote">Trade-tested teams from solo specialists to enterprise crews.</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Average client rating</div>
            <div class="stat-value">4.8â˜…</div>
            <div class="stat-footnote">Based on comeback-rate & verified post-job reviews.</div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="site-footer-inner">
    Want to become a verified contractor on ServicePoint SA?  
    Email <a href="mailto:servicepoint.info@gmail.com">servicepoint.info@gmail.com</a> with your trade, service areas and a short description of your business.
  </div>
</footer>

<!-- POPUP: HUMAN ASSISTANT -->
<div class="popup-bg" id="popup">
  <div class="popup-box">
    <h3 class="popup-title">Chat to our assistant</h3>
    <div class="popup-subtitle">
      Answer a few quick questions so we can send your request to the right contractor.
    </div>
    <div class="popup-service" id="selectedService"></div>

    <label for="clientName">Your name</label>
    <input type="text" id="clientName" placeholder="e.g. Thandi / Dyllon" />

    <label for="clientPhone">WhatsApp / phone number</label>
    <input type="text" id="clientPhone" placeholder="e.g. 082 123 4567" />

    <label for="clientLocation">Area / suburb</label>
    <input type="text" id="clientLocation" placeholder="e.g. Durban North, Sandton, Bellville" />

    <label for="clientTiming">When do you need this done?</label>
    <select id="clientTiming">
      <option value="As soon as possible">As soon as possible</option>
      <option value="Today">Today</option>
      <option value="This week">This week</option>
      <option value="This month">This month</option>
      <option value="Just getting quotes for now">Just getting quotes for now</option>
    </select>

    <label for="clientBudget">Rough budget (if you know)</label>
    <input type="text" id="clientBudget" placeholder="e.g. Under R2 000 / R5kâ€“R10k / Not sure" />

    <label for="clientNotes">Short description of the job</label>
    <textarea id="clientNotes" placeholder="Tell us whatâ€™s happening or what you want done."></textarea>

    <div class="popup-actions">
      <button class="popup-btn-secondary" onclick="closePopup()">Cancel</button>
      <button class="popup-btn-primary" onclick="sendLead()">Send request</button>
    </div>
    <div class="popup-note">
      Our human assistant will WhatsApp or call you to confirm details before introducing you to contractors.
    </div>
  </div>
</div>

<script>
/* ===========================
   CATEGORY + SERVICE DATA
   (many, diverse, SA-style)
=========================== */
const CATEGORY_DATA = {
  "Solar & Backup Power": [
    "Full solar system design",
    "Inverter + battery installation",
    "Solar geyser conversion",
    "Load-shedding backup kits",
    "Solar COC & compliance",
    "Commercial solar audit",
    "Solar panel cleaning",
    "Off-grid farm solutions"
  ],
  "Electrical": [
    "New plug & light points",
    "DB board upgrade",
    "Full house re-wiring",
    "Pre-paid meter installation",
    "Fault finding & tripping power",
    "Certificate of Compliance (COC)",
    "Generator change-over",
    "Surge protection install"
  ],
  "Plumbing & Geysers": [
    "Burst pipe repair",
    "Geyser replacement",
    "Blocked drain & sewer",
    "Bathroom renovation plumbing",
    "Leak detection report",
    "Kitchen plumbing upgrade",
    "Septic tank & French drain",
    "Rainwater tank connection"
  ],
  "HVAC & Refrigeration": [
    "Aircon supply & install",
    "Aircon service & regas",
    "Cold room repair",
    "Ventilation & extraction fans",
    "Office HVAC maintenance",
    "Server-room cooling",
    "Underfloor heating",
    "Commercial fridge repair"
  ],
  "Security, CCTV & Access": [
    "CCTV camera installation",
    "Alarm system install & service",
    "Electric fence repair",
    "Gate motor replacement",
    "Intercom & access control",
    "Remote viewing setup",
    "Perimeter beams",
    "Security lighting projects"
  ],
  "Roofing & Waterproofing": [
    "Leak detection & repair",
    "Roof tile replacement",
    "IBR / corrugated roof install",
    "Torch-on waterproofing",
    "Gutter replacement",
    "Ceiling board repair",
    "Roof cleaning & painting",
    "Skylight installation"
  ],
  "Painting & Decorating": [
    "Interior repaint",
    "Exterior repaint",
    "Roof painting",
    "Feature wall & decor",
    "Damp proofing",
    "Complex & body corporate repaint",
    "Industrial painting",
    "Varnish & wood treatment"
  ],
  "Carpentry & Joinery": [
    "New kitchen cupboards",
    "Built-in bedroom cupboards",
    "Shopfitting & counters",
    "Decking supply & install",
    "Timber pergolas",
    "Custom furniture build",
    "Door hanging & frames",
    "Wooden window repair"
  ],
  "Flooring & Tiling": [
    "Porcelain & ceramic tiling",
    "Vinyl flooring",
    "Laminate flooring",
    "Carpet supply & fit",
    "Screeding & self-levelling",
    "Timber / parquet flooring",
    "Bathroom & shower tiling",
    "Commercial flooring upgrade"
  ],
  "Landscaping & Gardens": [
    "Garden design & makeover",
    "Instant lawn & roll-on grass",
    "Tree felling & trimming",
    "Irrigation system install",
    "Artificial turf",
    "Outdoor lighting",
    "Complex garden maintenance",
    "Pool area revamp"
  ],
  "Cleaning Services": [
    "Deep cleaning â€“ home",
    "Post-construction clean",
    "Office & commercial cleaning",
    "Carpet & upholstery cleaning",
    "Window cleaning (multi-storey)",
    "Move-in / move-out clean",
    "Short-let & Airbnb clean",
    "Industrial warehouse cleaning"
  ],
  "Appliance & Electronics Repair": [
    "Washing machine repair",
    "Fridge & freezer repair",
    "Dishwasher repair",
    "TV & home-theatre setup",
    "Oven & hob repair",
    "Tumble-dryer repair",
    "Microwave repair",
    "Bar fridge & ice-maker"
  ],
  "Windows, Doors & Glass": [
    "Aluminium window installation",
    "Stacking / sliding doors",
    "Garage door supply & fit",
    "Wooden door refurbishment",
    "Shower glass & enclosures",
    "Burglar bars & security gates",
    "Glazing & glass replacement",
    "Automatic doors"
  ],
  "Walls, Fencing & Paving": [
    "Boundary wall build",
    "Vibracrete walling",
    "Palisade fencing",
    "Clear-view fencing",
    "Driveway paving",
    "Retaining wall engineering",
    "Complex perimeter upgrades",
    "Wall repairs & crack stitching"
  ],
  "Pools & Water Features": [
    "New pool build",
    "Fibreglass relining",
    "Pool leak detection",
    "Salt-chlorinator install",
    "Pump & filter replacement",
    "Solar pool heating",
    "Koi pond build",
    "Jacuzzi & spa maintenance"
  ],
  "Pest Control": [
    "Cockroach & ant treatment",
    "Termite & wood borer",
    "Rodent control",
    "Flea & bedbug treatment",
    "Bird proofing",
    "Industrial fumigation",
    "Restaurant pest programme",
    "Pre-construction soil poisoning"
  ],
  "IT, Wi-Fi & Smart Home": [
    "Fibre & Wi-Fi setup",
    "Whole-home Wi-Fi mesh",
    "Network cabling & racks",
    "Smart home automation",
    "VOIP & IP phones",
    "Smart lighting & scenes",
    "Home cinema room",
    "Computer support â€“ small business"
  ],
  "Photography & Media": [
    "Brand & campaign shoots",
    "Event photography",
    "Real-estate & Airbnb photos",
    "Product photography",
    "Studio & portrait session",
    "Video content creation",
    "Drone photo / video",
    "Social media content day"
  ],
  "Graphic, Web & Branding": [
    "Logo & brand identity",
    "Business cards & stationery",
    "Website design & build",
    "E-commerce store setup",
    "Social media templates",
    "Vehicle & shop signage",
    "Brochures & catalogues",
    "Rebrand strategy session"
  ],
  "Events, Catering & DÃ©cor": [
    "Birthday & private events",
    "Corporate event management",
    "Catering â€“ platters & buffets",
    "Wedding planning",
    "Marquee & stretch tents",
    "Sound, stage & lighting",
    "Event dÃ©cor & flowers",
    "Photobooth & media wall"
  ],
  "Fitness & Personal Training": [
    "Home personal training",
    "Gym-based personal training",
    "Online coaching plan",
    "Boot-camp classes",
    "Nutrition guidance",
    "Weight-loss programme",
    "Strength & conditioning",
    "Pre- & post-natal training"
  ],
  "Sports Coaching": [
    "Kids soccer coaching",
    "Rugby skills coaching",
    "Cricket nets & coaching",
    "Swimming lessons",
    "Tennis coaching",
    "Running & athletics coaching",
    "High-performance coaching",
    "School holiday sports clinics"
  ],
  "Beauty, Hair & Wellness": [
    "Mobile hairdresser",
    "Make-up artist",
    "Nails & mani-pedi",
    "Massage therapist (mobile)",
    "Aesthetic skincare treatments",
    "Barber & grooming",
    "Bridal beauty package",
    "Lash & brow services"
  ],
  "Childcare & Tutors": [
    "Au pair / nanny placement",
    "Homework & study tutor",
    "Matric exam prep",
    "Coding & robotics classes",
    "Music & piano lessons",
    "Homeschool support",
    "Special-needs support",
    "After-care programme"
  ],
  "Transport & Moving": [
    "Local home move",
    "Office relocation",
    "Mini moves & bakkie hire",
    "Furniture removals",
    "Courier & same-day delivery",
    "Cross-border moves",
    "Packing & boxes",
    "Piano & heavy-item moves"
  ],
  "Real Estate & Property": [
    "Sales agent â€“ list my property",
    "Rental agent â€“ manage my unit",
    "Snag list & handover report",
    "Home inspection report",
    "Eviction & legal advisory (referral)",
    "Body corporate maintenance plan",
    "Short-let / Airbnb management",
    "Property photography + listing setup"
  ],
  "Business Services": [
    "Bookkeeping & monthly accounts",
    "Tax returns & SARS help",
    "Payroll setup",
    "HR & labour consulting",
    "Business coaching",
    "Tender & RFQ assistance",
    "CIPC registrations",
    "POS & payment systems"
  ],
  "Auto Services": [
    "Mobile mechanic",
    "Major car service",
    "Auto electrical",
    "Tyres & wheel alignment",
    "Panel beating & spray painting",
    "Car valet & detailing",
    "Tow-in service",
    "Sound & tracking system install"
  ]
};

/* ===========================
   BUILD CATEGORY SIDEBAR
=========================== */
const categoryListEl = document.getElementById("categoryList");

Object.keys(CATEGORY_DATA).forEach((categoryName) => {
  const services = CATEGORY_DATA[categoryName];
  const catEl = document.createElement("div");
  catEl.className = "category";

  const headerEl = document.createElement("div");
  headerEl.className = "category-header";

  const leftEl = document.createElement("div");
  leftEl.className = "category-header-left";

  const nameEl = document.createElement("div");
  nameEl.className = "category-name";
  nameEl.textContent = categoryName;

  const countEl = document.createElement("div");
  countEl.className = "category-count";
  countEl.textContent = services.length + " services";

  leftEl.appendChild(nameEl);
  leftEl.appendChild(countEl);

  const arrowEl = document.createElement("div");
  arrowEl.className = "category-arrow";
  arrowEl.textContent = "â€º";

  headerEl.appendChild(leftEl);
  headerEl.appendChild(arrowEl);

  const serviceListEl = document.createElement("div");
  serviceListEl.className = "service-list";

  services.forEach((serviceName) => {
    const serviceEl = document.createElement("div");
    serviceEl.className = "service-item";
    serviceEl.innerHTML = `<span>${serviceName}</span><span>Tap to request</span>`;
    serviceEl.addEventListener("click", () =>
      openPopup(`${categoryName} â€“ ${serviceName}`)
    );
    serviceListEl.appendChild(serviceEl);
  });

  headerEl.addEventListener("click", () => {
    const isOpen = catEl.classList.contains("open");
    if (isOpen) {
      catEl.classList.remove("open");
      serviceListEl.classList.remove("open");
    } else {
      catEl.classList.add("open");
      serviceListEl.classList.add("open");
    }
  });

  catEl.appendChild(headerEl);
  catEl.appendChild(serviceListEl);
  categoryListEl.appendChild(catEl);
});

/* ===========================
   POPUP + TELEGRAM BOT
   (human assistant front-end)
=========================== */
function openPopup(service) {
  document.getElementById("selectedService").innerText = service;
  document.getElementById("popup").style.display = "flex";
}

function closePopup() {
  document.getElementById("popup").style.display = "none";
}

function sendLead() {
  const name = document.getElementById("clientName").value.trim();
  const phone = document.getElementById("clientPhone").value.trim();
  const location = document.getElementById("clientLocation").value.trim();
  const timing = document.getElementById("clientTiming").value;
  const budget = document.getElementById("clientBudget").value.trim();
  const notes = document.getElementById("clientNotes").value.trim();
  const service = document.getElementById("selectedService").innerText;

  if (!name || !phone) {
    alert("Please add your name and a contact number so our assistant can reach you.");
    return;
  }

  const botToken = "8526401033:AAFrG8IH8xqQL_RTD7s7JLyxZpc8e8GOyyg";
  const chatId = "8187670531";

  const msg = `ðŸ”¥ *New Service Lead*
ðŸ“Œ Service: ${service}
ðŸ‘¤ Name: ${name}
ðŸ“± Phone: ${phone}
ðŸ“ Area: ${location || "Not specified"}
â± Timing: ${timing}
ðŸ’° Budget: ${budget || "Not specified"}
ðŸ“ Notes: ${notes || "No extra notes given"}`;

  fetch(
    `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}` +
      `&text=${encodeURIComponent(msg)}&parse_mode=Markdown`
  )
    .then(() => {
      alert("Lekker! Your request has been sent. Our assistant will contact you shortly.");
      document.getElementById("clientName").value = "";
      document.getElementById("clientPhone").value = "";
      document.getElementById("clientLocation").value = "";
      document.getElementById("clientBudget").value = "";
      document.getElementById("clientNotes").value = "";
      closePopup();
    })
    .catch(() => {
      alert("We couldn't send your request right now. Please try again in a moment.");
    });
}
</script>

</body>
</html>
