<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Service Point SA — All Services</title>

  <link rel="stylesheet" href="assets/main.css" />
  <script src="assets/main.js" defer></script>
  <script src="assets/chatbot.js" defer></script>
  <script type="module" src="public/supabase-client.js" defer></script>
</head>
<body>
  <div id="app">
    <aside class="sidebar">
      <div class="brand">Service Point SA</div>

      <nav class="sidebar-cats" id="sidebarCats">
        <!-- categories inserted here -->
      </nav>

      <div class="sidebar-bottom">
        <a href="mailto:apply@servicepointsa.example" class="apply-link">Apply to become a contractor</a>
        <div class="copyright">© 2025 Service Point SA</div>
      </div>
    </aside>

    <main class="main-area">
      <header class="topbar">
        <div class="search-wrap">
          <input id="searchInput" placeholder="Search services (e.g. plumbing)" />
          <button id="searchBtn">Search</button>
        </div>
      </header>

      <section class="content">
        <div class="left-col">
          <div class="panel">
            <h3>All Services</h3>
            <div id="servicesGrid" class="services-grid"></div>

            <div class="pagination" id="pagination"></div>
          </div>
        </div>

        <aside class="right-col">
          <div class="panel small" id="topContractorsPanel">
            <h4>Top Rated Contractors</h4>
            <div id="topContractors"></div>
          </div>

          <div class="panel small" id="testimonialsPanel">
            <h4>Customer Testimonials</h4>
            <div id="testimonials"></div>
          </div>
        </aside>
      </section>
    </main>

    <!-- Chatbot Button -->
    <button id="chatOpen" class="chat-open-btn">Need Help?</button>

    <!-- Chat Modal -->
    <div id="chatModal" class="chat-modal hidden">
      <div class="chat-box">
        <div class="chat-header">
          Omni Assistant
          <button id="chatClose" class="close-x">×</button>
        </div>

        <div class="chat-body">
          <div id="chatFlow" class="chat-flow"></div>

          <form id="leadForm" class="lead-form">
            <input id="leadName" placeholder="Full name" required />
            <input id="leadPhone" placeholder="Phone" required />
            <input id="leadEmail" placeholder="Email (optional)" />
            <select id="leadService" placeholder="Service">
              <option value="">Select service</option>
            </select>

            <div id="contractorOptions" class="contractor-options"></div>

            <textarea id="leadMessage" placeholder="Describe the job..."></textarea>
            <input type="hidden" id="contractorIdHidden" />

            <button id="chatSend" type="submit" class="btn">Send Request</button>
          </form>
        </div>
      </div>
    </div>

    <!-- contractor profile template (page) -->
    <!-- clickable links open /c.html?id=<uuid> which is provided below in c.html file -->
  </div>
</body>
</html>
