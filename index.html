<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ServicePoint SA</title>

<style>
:root {
    --bg-page: #031b10;
    --bg-shell: #052618;
    --bg-hero: #054527;
    --bg-sidebar: #06331f;
    --bg-card: #073320;
    --bg-card-soft: #0a3d26;
    --accent: #28d17c;
    --accent-soft: rgba(40, 209, 124, 0.1);
    --text-main: #f5fff8;
    --text-muted: #a7c9b3;
    --border-soft: rgba(255, 255, 255, 0.06);
    --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.65);
    --radius-lg: 18px;
    --radius-md: 12px;
    --radius-pill: 999px;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: radial-gradient(circle at top, #06311f 0, #020f09 55%, #000 100%);
    color: var(--text-main);
}

/* TOP BAR */
.topbar {
    max-width: 1200px;
    margin: 18px auto 10px auto;
    padding: 14px 18px;
    border-radius: var(--radius-lg);
    background: rgba(3, 25, 16, 0.9);
    border: 1px solid var(--border-soft);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 18px;
    box-shadow: 0 10px 35px rgba(0,0,0,0.7);
}

.brand-wrap { display: flex; align-items: center; gap: 10px; }
.brand-logo {
    width: 34px; height: 34px; border-radius: 50%;
    display:flex; align-items:center; justify-content:center;
    background: radial-gradient(circle at 20% 0, #28d17c, #0a7d46);
    color:#02140b; font-weight:800; font-size:18px;
}
.brand-text-main { font-weight:700; font-size:18px; }
.brand-text-sub { font-size:12px; color:var(--text-muted); }

.top-pills { display:flex; gap:10px; flex-wrap:wrap; }
.pill {
    padding:8px 14px; border-radius:var(--radius-pill);
    font-size:12px; border:1px solid rgba(255,255,255,0.12);
    color:var(--text-muted); display:flex; align-items:center; gap:6px;
    background:rgba(7,46,30,0.85); backdrop-filter:blur(14px);
}
.pill-dot { width:6px;height:6px;border-radius:50%;background:var(--accent); }
.pill-accent { background:var(--accent-soft); color:#d9ffe8; border-color:transparent; }

/* LAYOUT */
.layout {
    max-width:1200px;
    margin:0 auto 40px auto;
    display:grid;
    grid-template-columns:260px minmax(0,1fr);
    gap:18px;
}

/* SIDEBAR â€” FIX INCLUDED */
.sidebar {
    background:var(--bg-sidebar);
    border-radius:var(--radius-lg);
    padding:18px 14px;
    border:1px solid var(--border-soft);
    box-shadow:var(--shadow-soft);
    display:flex;
    flex-direction:column;

    height: calc(100vh - 160px); /* FIX */
    overflow: hidden;            /* FIX */
}

.sidebar-header {
    font-size:13px; color:var(--text-muted);
    margin-bottom:14px; line-height:1.5;
}

.scroll-area {
    flex:1;
    overflow-y:auto; /* FIX */
    padding-right:4px;
}

.scroll-area::-webkit-scrollbar { width:5px; }
.scroll-area::-webkit-scrollbar-thumb {
    background:rgba(255,255,255,0.2);
    border-radius:999px;
}

.category { margin-bottom:6px; border-radius:10px; overflow:hidden; }
.category-header {
    cursor:pointer; padding:9px;
    display:flex; align-items:center; justify-content:space-between;
    background:rgba(255,255,255,0.02);
    border-radius:10px;
    transition:background .18s, transform .12s;
}
.category-header:hover { background:rgba(255,255,255,0.06); transform:translateY(-1px); }

.category-title { font-size:13px; display:flex; align-items:center; gap:8px; }
.category-count { font-size:11px; color:var(--text-muted); }
.category-arrow { font-size:11px; color:var(--text-muted); }

.service-list {
    display:none;
    padding:6px 7px 8px 10px;
    background:rgba(255,255,255,0.02);
    border-radius:10px;
    margin-top:4px;
}
.service-item {
    font-size:11px; color:#d3ffe7;
    padding:5px 8px;
    border-radius:999px;
    cursor:pointer;
    margin-bottom:4px;
    border:1px solid transparent;
    background:transparent;
    display:inline-flex;
    align-items:center;
    gap:6px;
    transition:all .18s;
}
.service-dot { width:6px;height:6px;border-radius:50%;background:rgba(40,209,124,0.7); }
.service-item:hover {
    background:rgba(6,110,63,0.8);
    border-color:rgba(40,209,124,0.4);
    transform:translateY(-1px);
}

.sidebar-footer { font-size:11px; margin-top:10px; color:var(--text-muted); }

/* CONTENT AREA */
.content { display:flex; flex-direction:column; gap:14px; }

/* HERO CARD */
.hero-card {
    background:var(--bg-hero);
    border-radius:var(--radius-lg);
    border:1px solid var(--border-soft);
    padding:24px;
    display:grid;
    grid-template-columns:minmax(0,1.3fr) minmax(0,1.1fr);
    gap:20px;
    box-shadow:var(--shadow-soft);
}

.hero-eyebrow { font-size:11px; text-transform:uppercase; letter-spacing:.1em; color:var(--text-muted); margin-bottom:6px; }
.hero-title { font-size:26px; font-weight:700; margin-bottom:8px; }
.hero-sub { font-size:13px; color:var(--text-muted); max-width:480px; margin-bottom:18px; }

.region-chips { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:18px; }
.chip {
    padding:8px 12px;
    border-radius:var(--radius-pill);
    border:1px solid rgba(255,255,255,0.16);
    font-size:11px;
    background:rgba(7,58,36,0.9);
    display:flex; align-items:center; gap:6px;
}
.chip-dot { width:7px;height:7px;border-radius:50%;background:var(--accent); }

.hero-meta { font-size:11px; color:var(--text-muted); display:flex; gap:18px; flex-wrap:wrap; }

.hero-right { display:flex; flex-direction:column; gap:16px; }
.hero-right-text { font-size:13px; color:var(--text-muted); }

.hero-right-cta { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.btn-primary {
    padding:10px 20px;
    border-radius:var(--radius-pill);
    background:linear-gradient(135deg,#28d17c,#19a35c);
    color:#02140b;
    border:none;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 14px 30px rgba(24,199,107,0.6);
}
.btn-primary:hover { transform:translateY(-1px); }

.btn-ghost {
    padding:9px 16px;
    border-radius:var(--radius-pill);
    border:1px dashed rgba(255,255,255,0.3);
    background:transparent;
    font-size:12px;
}

/* POPUP */
.popup-bg {
    position:fixed;
    inset:0;
    display:none;
    justify-content:center;
    align-items:center;
    background:rgba(0,0,0,0.75);
    z-index:50;
}
.popup-box {
    width:360px;
    background:#041e13;
    border:1px solid rgba(255,255,255,0.15);
    padding:18px;
    border-radius:18px;
}
.popup-title { font-size:15px; margin-bottom:4px; }
.popup-sub { font-size:11px; color:var(--text-muted); margin-bottom:10px; }

.popup-selected {
    font-size:12px; padding:6px 10px;
    border-radius:999px;
    background:rgba(40,209,124,0.1);
    display:inline-flex; gap:8px; margin-bottom:10px;
}
.popup-selected .tag {
    width:8px;height:8px;border-radius:50%;background:var(--accent);
}

.popup-input {
    width:100%;
    padding:10px;
    margin-bottom:8px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.18);
    background:rgba(5,31,19,0.9);
    color:var(--text-main);
}

.popup-row { display:flex; justify-content:flex-end; gap:8px; }

.btn-secondary {
    padding:8px 14px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.25);
    background:transparent;
}

/* Responsive */
@media(max-width:980px){
    .layout { grid-template-columns:1fr; }
    .sidebar { order:2; height:auto; }
}
@media(max-width:780px){
    .hero-card { grid-template-columns:1fr; }
}
</style>
</head>

<body>

<header class="topbar">
    <div class="brand-wrap">
        <div class="brand-logo">S</div>
        <div>
            <div class="brand-text-main">ServicePoint SA</div>
            <div class="brand-text-sub">Home & Business Service Network</div>
        </div>
    </div>

    <div class="top-pills">
        <div class="pill"><span class="pill-dot"></span> Smart contractor matching</div>
        <div class="pill pill-accent"><span class="pill-dot"></span> Live human assistant chat</div>
        <div class="pill"><span class="pill-dot"></span> SA coverage Â· KZN Â· JHB Â· CPT</div>
    </div>
</header>

<main class="layout">

<!------------ SIDEBAR (FIXED) ------------>
<aside class="sidebar">
    <div class="sidebar-header">
        Tap a category to see services.<br>
        Tap a service to request it.
    </div>

    <div class="scroll-area" id="categoryList"></div>

    <div class="sidebar-footer">
        Serving Durban, Johannesburg & Cape Town.
    </div>
</aside>

<!------------ MAIN CONTENT ------------>
<section class="content">

    <!-- HERO -->
    <section class="hero-card">
        <div>
            <div class="hero-eyebrow">Built for South African homes & businesses</div>
            <h1 class="hero-title">Connect with trusted contractors in KZN, JHB & CPT.</h1>
            <p class="hero-sub">One request. Verified contractors compete to give you the best service.</p>

            <div class="region-chips">
                <div class="chip"><span class="chip-dot"></span>KZN â€“ Durban</div>
                <div class="chip"><span class="chip-dot"></span>JHB â€“ Gauteng</div>
                <div class="chip"><span class="chip-dot"></span>CPT â€“ Cape Town</div>
            </div>

            <div class="hero-meta">
                <span>Avg response: &lt; 15 minutes.</span>
                <span>We only send details once you confirm.</span>
            </div>
        </div>

        <div class="hero-right">
            <div class="hero-right-text">
                Answer a few quick questions, then our <strong>human assistant</strong> confirms details.
            </div>

            <div class="hero-right-cta">
                <button class="btn-primary" onclick="openPopupFromCTA()">Get matched now</button>
                <button class="btn-ghost" onclick="scrollToWhy()">How it works</button>
            </div>
        </div>
    </section>

</section>
</main>

<!-- POPUP -->
<div class="popup-bg" id="popup">
    <div class="popup-box">
        <h3 class="popup-title">Request this service</h3>
        <p class="popup-sub">Our human assistant will confirm your details.</p>

        <div class="popup-selected">
            <span class="tag"></span>
            <span id="selectedService">General service</span>
        </div>

        <input id="clientName" class="popup-input" type="text" placeholder="Your full name">
        <input id="clientPhone" class="popup-input" type="text" placeholder="Best contact number">

        <div class="popup-row">
            <button class="btn-secondary" onclick="closePopup()">Cancel</button>
            <button class="btn-primary" onclick="sendLead()">Send request</button>
        </div>
    </div>
</div>

<script>
/* =====================================
   CATEGORY DATA
===================================== */
const categories = {
    "Solar & Backup Power": [
        "Full solar system design","Inverter + battery installation",
        "Solar geyser conversion","Load-shedding backup kits",
        "Solar COC & compliance","Commercial solar audit",
        "Solar panel cleaning","Off-grid farm solutions"
    ],
    "Electrical": [
        "New plug & light points","DB board upgrade","Full house re-wiring",
        "Pre-paid meter installation","Fault finding & tripping power",
        "Certificate of Compliance (COC)","Generator change-over","Surge protection install"
    ],
    "Plumbing & Geysers": [
        "Burst pipe repair","Geyser replacement","Blocked drain",
        "Bathroom renovation plumbing","Leak detection report",
        "Kitchen plumbing upgrade","Septic tank","Rainwater tank connection"
    ],
    "HVAC & Refrigeration": [
        "Aircon supply & install","Aircon regas","Cold room repair",
        "Ventilation systems","Office HVAC","Server room cooling",
        "Underfloor heating","Commercial fridge repair"
    ],
    "Security, CCTV & Access": [
        "CCTV installation","Alarm system service","Electric fence repair",
        "Gate motor replacement","Access control","Remote viewing setup",
        "Perimeter beams","Security lighting"
    ]
};

/* =====================================
   BUILD SIDEBAR
===================================== */
const categoryListEl = document.getElementById("categoryList");

Object.keys(categories).forEach(categoryName => {
    const services = categories[categoryName];

    const category = document.createElement("div");
    category.className = "category";

    const header = document.createElement("div");
    header.className = "category-header";

    const titleWrap = document.createElement("div");
    titleWrap.className = "category-title";
    const bullet = document.createElement("span");
    bullet.textContent = "â€¢";
    const nameSpan = document.createElement("span");
    nameSpan.textContent = categoryName;

    titleWrap.appendChild(bullet);
    titleWrap.appendChild(nameSpan);

    const rightWrap = document.createElement("div");
    rightWrap.style.display = "flex";
    rightWrap.style.alignItems = "center";
    rightWrap.style.gap = "6px";

    const count = document.createElement("span");
    count.className = "category-count";
    count.textContent = services.length + " services";

    const arrow = document.createElement("span");
    arrow.className = "category-arrow";
    arrow.textContent = "â–¾";

    rightWrap.appendChild(count);
    rightWrap.appendChild(arrow);

    header.appendChild(titleWrap);
    header.appendChild(rightWrap);

    const list = document.createElement("div");
    list.className = "service-list";

    services.forEach(serviceName => {
        const item = document.createElement("button");
        item.type = "button";
        item.className = "service-item";
        item.onclick = () => openPopup(`${categoryName} â€“ ${serviceName}`);

        const dot = document.createElement("span");
        dot.className = "service-dot";
        const label = document.createElement("span");
        label.textContent = serviceName;

        item.appendChild(dot);
        item.appendChild(label);
        list.appendChild(item);
    });

    header.onclick = () => {
        const isOpen = list.style.display === "block";
        list.style.display = isOpen ? "none" : "block";
        arrow.textContent = isOpen ? "â–¾" : "â–´";
    };

    category.appendChild(header);
    category.appendChild(list);

    categoryListEl.appendChild(category);
});

/* =====================================
   POPUP CONTROLS
===================================== */
const popupEl = document.getElementById("popup");
const selectedServiceEl = document.getElementById("selectedService");

function openPopup(serviceName) {
    selectedServiceEl.textContent = serviceName;
    popupEl.style.display = "flex";
}
function openPopupFromCTA() {
    openPopup("General service request");
}
function closePopup() {
    popupEl.style.display = "none";
}

/* =====================================
   SEND TO TELEGRAM
===================================== */
function sendLead() {
    const name = document.getElementById("clientName").value.trim();
    const phone = document.getElementById("clientPhone").value.trim();
    const service = selectedServiceEl.textContent.trim();

    if (!name || !phone) {
        alert("Please fill in your name and contact number.");
        return;
    }

    const botToken = "8526401033:AAFrG8IH8xqQL_RTD7s7JLyxZpc8e8GOyyg";
    const chatId = "8187670531";

    const msg = `ðŸ”¥ *New Service Lead*
ðŸ“Œ Service: ${service}
ðŸ‘¤ Name: ${name}
ðŸ“± Phone: ${phone}`;

    fetch(
        `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}` +
        `&text=${encodeURIComponent(msg)}&parse_mode=Markdown`
    )
    .then(() => {
        alert("Thanks! Our assistant will contact you shortly.");
        closePopup();
        document.getElementById("clientName").value = "";
        document.getElementById("clientPhone").value = "";
    })
    .catch(() => {
        alert("Error sending lead. Try again.");
    });
}

function scrollToWhy() {
    const el = document.getElementById("why-section");
    if (el) el.scrollIntoView({ behavior: "smooth" });
}
</script>

</body>
</html>
