<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ServicePoint SA</title>

<!-- STYLES -->
<style>
    body {
        margin: 0;
        padding: 0;
        background: #e5e5e5;
        font-family: Arial, sans-serif;
    }

    /* TOP HEADER */
    header {
        width: 100%;
        background: white;
        padding: 20px 0;
        text-align: center;
        font-size: 26px;
        font-weight: 700;
        border-bottom: 1px solid #ccc;
    }

    /* LAYOUT */
    .container {
        display: flex;
        padding: 20px;
        gap: 25px;
    }

    /* LEFT SIDEBAR */
    .sidebar {
        width: 280px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        height: fit-content;
    }

    .sidebar h2 {
        font-size: 20px;
        margin-bottom: 15px;
    }

    .category {
        padding: 10px 0;
        font-weight: bold;
        cursor: pointer;
        border-bottom: 1px solid #eee;
    }

    .service-list {
        padding-left: 15px;
        display: none;
    }

    .service {
        padding: 6px 0;
        cursor: pointer;
        color: #007bff;
    }

    .service:hover {
        text-decoration: underline;
    }

    /* RIGHT MAIN CONTENT */
    .main-box {
        flex: 1;
        background: white;
        padding: 25px;
        border-radius: 10px;
    }

    .stats-boxes {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    .stat {
        flex: 1;
        background: #fafafa;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #ddd;
        text-align: center;
    }

    .stat .num {
        font-size: 28px;
        font-weight: bold;
    }

    .cta-btn {
        margin-top: 20px;
        padding: 12px 25px;
        background: #0aa06e;
        color: white;
        border-radius: 6px;
        cursor: pointer;
        display: inline-block;
    }

    /* TELEGRAM POPUP */
    .popup-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        display: none;
        justify-content: center;
        align-items: center;
    }

    .popup-box {
        background: white;
        padding: 25px;
        border-radius: 10px;
        width: 350px;
        text-align: center;
    }

    .popup-box input {
        width: 90%;
        padding: 12px;
        margin-top: 15px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }

    .popup-box button {
        margin-top: 20px;
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border-radius: 6px;
        cursor: pointer;
    }

</style>
</head>
<body>

<header>ServicePoint SA</header>

<div class="container">
    <!-- SIDEBAR -->
    <div class="sidebar">
        <h2>Categories</h2>

        <!-- Auto-expand categories -->
        <div id="categories"></div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-box">
        <h2>Why Choose ServicePoint SA</h2>
        <p>South Africa‚Äôs most advanced contractor network, covering Durban, Johannesburg & Cape Town.</p>

        <ul>
            <li>Smart scoring system for best contractors.</li>
            <li>Verified identity & compliance checks.</li>
            <li>Instant match + automated admin layer.</li>
            <li>Built for real South African homes & businesses.</li>
        </ul>

        <div class="stats-boxes">
            <div class="stat">
                <div class="num">168</div>
                Leads Successfully Fed
            </div>
            <div class="stat">
                <div class="num">210</div>
                Contractors Available
            </div>
            <div class="stat">
                <div class="num">4.8‚≠ê</div>
                Average Rating
            </div>
        </div>
    </div>
</div>

<!-- POPUP -->
<div class="popup-bg" id="popup">
    <div class="popup-box">
        <h3>Request This Service</h3>
        <p id="selectedService"></p>

        <input type="text" id="clientName" placeholder="Your name" />
        <input type="text" id="clientPhone" placeholder="Your phone number" />

        <button onclick="sendLead()">Send Request</button>
    </div>
</div>

<script>
/* ===========================
   CATEGORY + SERVICE DATA
=========================== */
const data = {
    "General Construction": ["Brickwork", "Renovations", "Foundations", "Retaining Walls", "Boundary Walls"],
    "Electrical": ["New wiring", "Fault finding", "DB board upgrades", "Certificate of Compliance"],
    "Plumbing": ["Geyser installation", "Leak detection", "Drain unblocking", "Bathroom fitting"],
    "HVAC": ["AC installation", "AC servicing", "Duct cleaning"],
    "Roofing": ["Roof repairs", "Waterproofing", "Gutter installation"],
    "Painting": ["Interior painting", "Exterior painting", "Roof painting"],
    "Flooring": ["Tiling", "Laminate flooring", "Carpets", "Vinyl flooring"],
    "Carpentry": ["Kitchen cabinets", "Wardrobes", "Custom furniture"],
    "Landscaping": ["Garden design", "Tree felling", "Irrigation"],
    "Cleaning": ["Deep cleaning", "Post-construction cleaning", "Office cleaning"],
};

/* Generate sidebar */
const catContainer = document.getElementById("categories");

Object.keys(data).forEach(cat => {
    const div = document.createElement("div");
    div.className = "category";
    div.textContent = cat;

    const serviceList = document.createElement("div");
    serviceList.className = "service-list";

    data[cat].forEach(service => {
        const item = document.createElement("div");
        item.className = "service";
        item.textContent = service;

        item.onclick = () => openPopup(service);

        serviceList.appendChild(item);
    });

    div.onclick = () => {
        serviceList.style.display =
            serviceList.style.display === "block" ? "none" : "block";
    };

    catContainer.appendChild(div);
    catContainer.appendChild(serviceList);
});

/* ===========================
   POPUP + TELEGRAM BOT
=========================== */
function openPopup(service) {
    document.getElementById("selectedService").innerText = service;
    document.getElementById("popup").style.display = "flex";
}

function sendLead() {
    const name = document.getElementById("clientName").value;
    const phone = document.getElementById("clientPhone").value;
    const service = document.getElementById("selectedService").innerText;

    if (!name || !phone) {
        alert("Please fill in your details");
        return;
    }

    const botToken = "8526401033:AAFrG8IH8xqQL_RTD7s7JLyxZpc8e8GOyyg";
    const chatId = "8187670531";

    const msg =
`üî• *New Service Lead*
üìå Service: ${service}
üë§ Name: ${name}
üì± Phone: ${phone}`;

    fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`);
    
    alert("Your request has been sent!");
    document.getElementById("popup").style.display = "none";
}

</script>

</body>
</html>
